// The node and browser modules expose versions of this with the
// appropriate constructor function bound as first argument
/**
 * Issue a request:
 *
 * Examples:
 *
 *    request('GET', '/users').end(callback)
 *    request('/users').end(callback)
 *    request('/users', callback)
 *
 * @param {String} method
 * @param {String|Function} url or callback
 * @return {Request}
 * @api public
 */

function request (RequestConstructor, method, url) {
  // callback
  if (typeof url === 'function') {
    return new RequestConstructor('GET', method).end(url)
  }

  // url first
  if (arguments.length == 2) {
    return new RequestConstructor('GET', method)
  }

  return new RequestConstructor(method, url)
}

module.exports = request
